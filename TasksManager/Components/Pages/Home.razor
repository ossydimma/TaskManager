@page "/"
@rendermode RenderMode.InteractiveServer
@using TasksManager.SharedDataServices
@inject SharedDataServices.SharedDataService SharedData
@* @inject IJSRuntime JSRuntime *@

<PageTitle>Home</PageTitle>
<main>
    <div class="bg-[#dadde2] w-screen h-auto md:h-screen pr-0 md:pr-3 sm:pr-1 flex gap-0 sm:gap-1 md:gap-3">
        <SideBar OnStateChanged="HandleStateChange" />
        <div class="bg-[#f6f5f5] h-[98Vh] overflow-x-hidden overflow-y-scroll md:overflow-hidden my-0 sm:my-[1vh] px-3 w-screen sm:rounded-[2rem]">
            <Header />
            <div>
                <div class=" flex  justify-center items-center ">
                    <div
                        class=" w-[80%] md:w-[50%] lg:w-[45%] flex items-center justify-between  px-3.5 border border-gray-600 rounded-3xl">
                        <input type="text" placeholder="Search" class="w-[90%] bg-inherit py-2 outline-none">
                        <svg class="w-7 cursor-pointer " viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                            <g id="SVGRepo_iconCarrier">
                                <g clip-path="url(#clip0_15_152)">
                                    <circle cx="10.5" cy="10.5" r="6.5" stroke="#000000" stroke-linejoin="round">
                                    </circle>
                                    <path
                                        d="M19.6464 20.3536C19.8417 20.5488 20.1583 20.5488 20.3536 20.3536C20.5488 20.1583 20.5488 19.8417 20.3536 19.6464L19.6464 20.3536ZM20.3536 19.6464L15.3536 14.6464L14.6464 15.3536L19.6464 20.3536L20.3536 19.6464Z"
                                        fill="#000000"></path>
                                </g>
                                <defs>
                                    <clipPath id="clip0_15_152">
                                        <rect width="24" height="24" fill="white"></rect>
                                    </clipPath>
                                </defs>
                            </g>
                        </svg>
                    </div>

                </div>
                <div class=" flex justify-between flex-col gap-8 md:gap-2 md:flex-row mt-[2.5vh] ">
                    <section class="  w-[100%] md:w-[65%] md:mx-8">
                        @* ------------ LEFT CONTENT ---------------- *@
                        <div class=" flex flex-wrap gap-2 md:gap-4 justify-between items-center text-xs xs:text-sm ">

                            <div class=" text-center flex-1 w-[calc(1/3-1rem)] p-3 bg-slate-200 rounded-2xl border ">
                                <h2 class="font-semibold">All Tasks</h2>
                                <p >3000</p>
                            </div>

                            <div class=" text-center flex-1 w-[calc(1/3-1rem)] p-3 bg-slate-200 rounded-2xl border ">
                                <h2 class="font-semibold">Pending Tasks</h2>
                                <p >3000</p>
                            </div>

                            <div class=" text-center flex-1 w-[calc(1/3-1rem)] p-3 bg-slate-200 rounded-2xl border ">
                                <h2 class="font-semibold">Complete Tasks</h2>
                                <p >3000</p>
                            </div>
        
                        </div>

                        <div class="mt-8 mx-2 md:mx-8"> 
                            <div class="flex justify-between items-center  mb-4 font-serif">
                                <h2 class="font-bold text-2xl">Today's Task</h2>
                                <p class=" text-right text-lg font-medium cursor-pointer">view all</p>
                            </div>

                            <div class=" flex flex-col gap-4  ">
                                <div class="pt-7 px-6 shadow-lg border-t-2">
                                    <p class=" font-semibold text-lg">Landing PageTitle Agency Creative</p>
                                    <p class="text-sm font-medium mb-2">work project</p>

                                    <div class="flex items-center justify-between  border-t-2 py-4">
                                        <p class="font-semibold">10:00 - 12:30 am</p>
                                        <div class="px-4 py-2 rounded-xl text-white bg-black">On Progress</div>
                                    </div>
                                </div>

                                <div class="pt-7 px-6 shadow-lg border-t-2">
                                    <p class=" font-semibold text-lg">Landing PageTitle Agency Creative</p>
                                    <p class="text-sm font-medium mb-2">personal project</p>

                                    <div class="flex items-center justify-between  border-t-2 py-4">
                                        <p class="font-semibold">10:00 - 12:30 am</p>
                                        <div class="px-4 py-2 rounded-xl text-white bg-black">Completed</div>
                                    </div>
                                </div>
                            </div>
                            

                        </div>
                    </section>

                    @* ------------ RIGHT CONTENT ---------------- *@
                    <section class="w-[100%] md:w-[33%]">
                        <Calendar />
                        <TimeTracker />
                    </section>
                </div>

                

                

            </div>


        </div>


    </div>

</main>

@code {
    @* private bool Minimize { get; set; } *@
    private bool ShowSearchBox { get; set; }
    public string CurrentDate = DateTime.Now.ToString("dddd, MMMM d");


    private void HandleStateChange(bool state)
    {
        @* Minimize = state; *@
        StateHasChanged();
    }
}